<!DOCTYPE html>
<html>
<head>
    <title>Customer Loan Linking</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
        }

        label {
            font-weight: bold;
            display: block;
            margin-top: 15px;
        }

        select, button {
            margin-top: 5px;
            padding: 6px;
        }

        .tables-container {
            display: flex;
            gap: 40px;
            margin-top: 20px;
        }

        .table-wrapper {
            width: 48%;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }

        th, td {
            border: 1px solid #aaa;
            padding: 8px;
            text-align: left;
        }

        th {
            background-color: #f2f2f2;
        }

        .hidden {
            display: none;
        }

        #propertyTable {
            margin-top: 30px;
        }

        #finalMessage {
            color: green;
            font-weight: bold;
            margin-top: 20px;
        }
        h5 {
            color:green;

        }
    </style>
</head>
<body>

    <!-- Customer Type (disabled) -->
    <label for="customerType">Customer Type</label><h5>BS Comment->  This dropdown will be mandatory to select after run dedupe. if details found than customer type will be existing and if not found then New Customer</h5>
    <select id="customerType" disabled>
        <option value="Existing" selected>Existing</option>
    </select>
    <button type="button" onclick="runDedupe()">RUN Dedupe</button>

    <!-- Tables Container -->
    <div class="tables-container hidden" id="tablesSection">
        <!-- Customer Table -->
        <div class="table-wrapper">
            <h3>Customer List</h3><h5>BS Comment-> checker panel team will only be able to view/edit this table. login team has to link the customer ID and complete the dedupe</h5>
            <table>
                <thead>
                    <tr>
                        <th>Select</th>
                        <th>Customer ID</th>
                        <th>CustomerName</th>
                        <th>CustomerType</th>
                        <th>Matching Parameter</th>
                    </tr>
                </thead>
                <tbody id="customerTableBody">
                    <tr>
                        <td><input type="radio" name="customer" /></td>
                        <td>CUST001</td>
                        <td>Rahul Das</td>
                        <td>Applicant</td>
                        <td>Aadhar, PAN, Mobilenumber</td>
                    </tr>
                    <tr>
                        <td><input type="radio" name="customer" /></td>
                        <td>CUST002</td>
                        <td>Mohan Das</td>
                        <td>Co-applicant</td>
                        <td>Aadhar,Bank account number</td>
                    </tr>
                    <tr>
                        <td><input type="radio" name="customer" /></td>
                        <td>CUST003</td>
                        <td>Sohan Das</td>
                        <td>Applicant</td>
                        <td>Aadhar, PAN</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Loan Table -->
        <div class="table-wrapper">
            <h3>Loan List</h3><h5>BS Comment->  Credit team will have access to view/edit both customer and loan table. they will have option to re-run the dedupe as well. Credit team can change the customer linking and link the loan ID</h5>
            <table>
                <thead>
                    <tr>
                        <th>Select</th>
                        <th>Loan ID</th>
                        <th>Loan Status</th>
                        <th>Total Outstanding</th>
                        <th>Matching Parameter</th>
                    </tr>
                </thead>
                <tbody id="loanTableBody">
                    <tr>
                        <td><input type="radio" name="loan" onclick="showPropertyTable()" /></td>
                        <td>LN001</td>
                        <td>Active</td>
                        <td>₹500,000</td>
                        <td>Aadhar, PAN, Mobilenumber</td>
                    </tr>
                    <tr>
                        <td><input type="radio" name="loan" onclick="showPropertyTable()" /></td>
                        <td>LN002</td>
                        <td>Active</td>
                        <td>₹750,000</td>
                        <td>Aadhar,Bank account number</td>
                    </tr>
                    <tr>
                        <td><input type="radio" name="loan" onclick="showPropertyTable()" /></td>
                        <td>LN003</td>
                        <td>Closed</td>
                        <td>₹300,000</td>
                        <td>Aadhar,Bank account number</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Property Table -->
    <div id="propertyTable" class="hidden">
        <h3>Property Details Linked with Selected Loan</h3><h5>BS Comment->  once credit linked the loan ID then all property detials linked with that loan ID will be populated and copied in property detials. if multiple property linked then all property will be auto added in property details. </h5>
        <table>
            <thead>
                <tr>
                    <th>Select</th>
                    <th>Property ID</th>
                    <th>ProeprtyAddress</th>
                    <th>ProeprtyType</th>
                </tr>
            </thead>
            <tbody>
                <tr><td><input type="checkbox" checked disabled name="property" /></td><td>PROP001</td><td>Mumbai</td><td>Residentials</td></tr>
                <tr><td><input type="checkbox" checked disabled name="property" /></td><td>PROP002</td><td>Pune</td><td>Residentials</td></tr>
                <tr><td><input type="checkbox" checked disabled name="property" /></td><td>PROP003</td><td>Delhi</td><td>Residentials</td></tr>
            </tbody>
        </table>
    </div>

    <!-- Final Submit -->
    <div class="hidden" id="finalSubmitSection">
        <button type="button" onclick="finalSubmit()">Final Submit</button>
        <p id="finalMessage"></p>
    </div>

    <script>
        function runDedupe() {
            document.getElementById('tablesSection').classList.remove('hidden');
            document.getElementById('propertyTable').classList.add('hidden');
            document.getElementById('finalSubmitSection').classList.add('hidden');
            document.getElementById('finalMessage').textContent = "";
        }

        function showPropertyTable() {
            document.getElementById('propertyTable').classList.remove('hidden');
            document.getElementById('finalSubmitSection').classList.remove('hidden');
            document.getElementById('finalMessage').textContent = "";
        }

        function finalSubmit() {
            const customerSelected = document.querySelector('input[name="customer"]:checked');
            const loanSelected = document.querySelector('input[name="loan"]:checked');
            const propertySelected = document.querySelector('input[name="property"]:checked');

            if (!customerSelected) {
                alert("Please select a customer.");
                return;
            }

            if (!loanSelected) {
                alert("Please select a loan.");
                return;
            }

            if (!propertySelected) {
                alert("Please select a property.");
                return;
            }

            document.getElementById('finalMessage').textContent = "Linking done successfully";
        }
    </script>

</body>
</html>
